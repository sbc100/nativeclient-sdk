# Copyright 2010, Google Inc.
# Copyright (c) 2008 The Native Client Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

Import('env')

# NOTE: make sure we can compile these benchmarks without libsrpc
#       sadly this does not do anything on x86 since libsrpc
#       is added by the driver
env.Replace(LIBS=['c', 'nacl', 'google_nacl_platform', 'gio', 'pthread'])

env.ComponentProgram('nacl_log.nexe', 'nacl_log.c')

# TODO(robertm): fix this (might be just a C++ issue)
if env['TARGET_ARCHITECTURE'] == 'arm':
  Return()



node = env.CommandSelLdrTestNacl(
    'nacl_log_test.out',
    command=[env.File('nacl_log.nexe')],
    )
env.AddNodeToTestSuite(node,
                       ['small_tests', 'sel_ldr_tests'],
                       'run_nacl_log_test')
