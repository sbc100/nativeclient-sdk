<!DOCTYPE html>
<html>
<head>
  <title>NaCl Game Demos</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

  <style type="text/css">
    h1 {
      text-align: center;
    }
    h2 {
      margin-top: 2em;
      margin-bottom: 0;
    }
    .INFO {
      font-weight: bold;
      margin: 1.5em auto 2em;
      width: 90%;
      border: solid blue 2px;
      padding: 5px;
      line-height: 1.3;
    }
    .WARNING {
      font-weight: bold;
      margin: 1.7em auto 2.2em;
      width: 90%;
      font-size: 110%;
      background-color: #ffe;
      border: solid red 2px;
      padding: 7px;
    }
    .inactive_link {
      font-weight: bold;
      color: #888888;
      text-decoration: line-through;
    }
    a img {
      border: none;
    }
    .indent {
      margin-left: 3em;
    }
  </style>

  <script type="text/javascript" src="http://nacl-gallery.appspot.com/check_browser.js"></script>
  <script type="text/javascript">
    // Check for Native Client support in the browser before the DOM loads.
    var isValidBrowser = false;
    var browserSupportStatus = 0;
    var checker = new browser_version.BrowserChecker(10, navigator["appVersion"], navigator["plugins"]);
    checker.checkBrowser();
    isValidBrowser = checker.getIsValidBrowser();
    browserSupportStatus = checker.getBrowserSupportStatus();

    /**
     * Adds a link to the plugin page if checker.getIsValidBrowser() is true
     * (i.e. if NaCl is enabled); otherwise it uses the inactive_link
     * style to show a greyed out link.
     * @param {string} href The link (url) to the plugin page.
     */
    function addNaclPluginLink(href) {
      if (isValidBrowser) {
        document.write('<a target="_blank" href="' + href + '">Run</a>');
      } else {
        document.write('<p class=inactive_link>Run</p>');
      }
    }

    /**
     * Adds an image for this plugin and, if NaCl is enabled, also makes
     * the image a link to the plugin page.
     * @param {string} imagelink The link (url) to the image.
     * @param {int} width The width of the image.
     * @param {int} height The height of the image.
     * @param {string} href The link (url) to the plugin page.
     */
    function addNaclImageLink(imagelink, width, height, href) {
      if (isValidBrowser) {
        document.write('<a target="_blank" href="' + href + '"><img src="'
           + imagelink + '" width="' + width + '" height="' + height + '" alt="screenshot of NaCl game"></a>');
      } else {
        document.write('<img src="' + imagelink
           + '" width="' + width + '" height="' + height + '" alt="screenshot of NaCl game">');
      }
    }
  </script>


</head>
<body>

<h1>Native Client Game Demos</h1>

<p>This page lists a few games that have been ported to Native Client.</p>

<script type="text/javascript">
  switch(browserSupportStatus) {
    case browser_version.BrowserChecker.StatusValues.NACL_ENABLED:
      document.write('<div class="INFO">INFO: Using Google Chrome version ' + checker.chromeVersion_ + ' with Native Client ' +
        'enabled.<br>To run the Native Client games on this page, click the "Run" links or the screenshots ' +
        'below.</div>');
      break;
    case browser_version.BrowserChecker.StatusValues.NON_CHROME_BROWSER:
      document.write('<div class="WARNING">WARNING: This browser does not support Native Client. You must use ' +
          'Google Chrome to run Native Client applications. For additional information see ' +
          '<a href="http://code.google.com/chrome/nativeclient/docs/running.html#browser">running Native Client applications</a>.</div>');
      break;
    case browser_version.BrowserChecker.StatusValues.CHROME_VERSION_TOO_OLD:
      document.write('<div class="WARNING">WARNING: Native Client cannot run in Google Chrome version ' + checker.chromeVersion_ +
          '. You must use Google Chrome version ' + checker.requiredChromeVersion_ + ' or greater. For additional information ' +
          'see <a href="http://code.google.com/chrome/nativeclient/docs/running.html#browser">running Native Client applications</a>.</div>');
      break;
    case browser_version.BrowserChecker.StatusValues.NACL_NOT_ENABLED:
      document.write('<div class="WARNING">WARNING: Native Client is not enabled in Google Chrome. To enable Native Client, ' +
          'type <kbd>about:flags</kbd> in the address bar, scroll down to "Native Client," and click the "Enable" link. ' +
          'Then scroll down to the bottom of the page and click the "Restart Now" button. For additional information ' +
          'see <a href="http://code.google.com/chrome/nativeclient/docs/running.html#browser">running Native Client applications</a>.</div>');
      break;
    default:
      document.write('<div class="WARNING">WARNING: Unable to detect browser and/or Native Client support. You must use ' +
          'Google Chrome with Native Client enabled to run Native Client applications. For additional information see ' +
          '<a href="http://code.google.com/chrome/nativeclient/docs/running.html#browser">running Native Client applications</a>.</div>');
  }
</script>

<h2>Digger</h2>
<div class="indent">
<p>
  <script type="text/javascript">
    addNaclPluginLink("http://nacl-gallery.appspot.com/games/digger/digger.html");
  </script>
</p>
<script type="text/javascript">
  addNaclImageLink("/games/digger/screenshot-digger.png", 282, 291, "http://nacl-gallery.appspot.com/games/digger/digger.html");
</script>
</div>

<h2>Jump 'n Bump</h2>
<div class="indent">
<p>
  <script type="text/javascript">
    addNaclPluginLink("http://nacl-gallery.appspot.com/games/jumpnbump/jumpnbump.html");
  </script>
</p>
<script type="text/javascript">
  addNaclImageLink("/games/jumpnbump/screenshot-jumpnbump.png", 298, 270, "http://nacl-gallery.appspot.com/games/jumpnbump/jumpnbump.html");
</script>
</div>

</body>
</html>
